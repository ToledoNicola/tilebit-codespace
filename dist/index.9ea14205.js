var t={};(async()=>{let e="",s="",o=!1;const a=window.$memberstackDom,n=(await a.getCurrentMember()).data;let i={};if(n){const t=await a.getMemberJSON();i=t.data||{savedComp:[]}}window.fsAttributes=window.fsAttributes||[],window.fsAttributes.push(["cmsload",e=>{console.log("cmsload Successfully loaded!");const[s]=e;s.on("renderitems",(t=>{console.log("page changed"),c()}));const o=location.href.split("/").slice(-1)[0];i.savedComp&&"saved"==o&&$("[comp-card]").each(((e,s)=>{const o=$(t).closest("[tb-item-id]").attr("tb-item-id");-1===i.savedComp.indexOf(o)&&-1===i.savedInspo.indexOf(o)||$(s).closest("[comp-item]").removeClass("hide")}))}]),document.addEventListener("copy",(t=>{o&&(t.clipboardData.setData(s,e),t.preventDefault(),o=!1)}));const c=()=>{$("[comp-card-save-btn]").hide(),$(".actions-button-wrapper").click((function(t){return t.stopPropagation(),!0})),$("[bmg-arco-button]").click((function(t){if(!n)return void $(t.target).closest("[comp-card]").find('[w-el="compLock"]').css("display","flex");const a=$(this).attr("bmg-arco-button"),i=$(this).closest("[tb-item-id]").attr("tb-item-id");!function(t,a,n){const i=`https://xju6-kpzy-l8vj.n7.xano.io/api:4lTavcfO/components/${n}/platform/${a}`;let c=t.find("img").clone();function d(e){setTimeout((function(){t.text(e),setTimeout((function(){t.empty(),t.append(c),t.css({"pointer-events":"auto"})}),1500)}),1500)}let m=new XMLHttpRequest;t.css({"pointer-events":"none"}),t.empty(),t.text("Copying..."),m.open("GET",i,!0),m.onload=function(){let t=JSON.parse(this.response);m.status>=200&&m.status<400?(e=t[a],s="{"==t[a].charAt(0)?"application/json":"text/html",o=!0,document.execCommand("copy"),d("Copied!")):d(`Error: ${m.status}`)},m.send()}($(this),a,i)})),new ClipboardJS("[data-clipboard-text]").on("success",(function(t){const e=t.trigger._tippy;e.setContent("Copied"),e.show()})),tippy("[data-tippy-content]",{trigger:"manual",duration:100,onShow(t){setTimeout((()=>{t.hide()}),1e3)}}),$("[comp-card-save-btn]").click((async function(t){if(!n)return void $(t.target).closest("[comp-card]").find('[w-el="compLock"]').css("display","flex");const e=this._tippy,s=$(this).closest("[tb-item-id]").attr("tb-item-id");if("inspiration"==$(this).closest("[comp-card]").attr("comp-card")){if(i.savedInspo=i.savedInspo||[],-1===i.savedInspo.indexOf(s)){i.savedInspo.push(s);const t=i.savedInspo.length||0;return i.savedInspoNum=t,await a.updateMemberJSON({json:i}),e.setContent("Saved"),void e.show()}}else if(i.savedComp=i.savedComp||[],-1===i.savedComp.indexOf(s)){i.savedComp.push(s);const t=i.savedComp.length||0;return i.savedCompNum=t,await a.updateMemberJSON({json:i}),e.setContent("Saved"),void e.show()}e.setContent("Already saved"),e.show()})),$(document).on("click",".hack32-like-item .del",(function(){const t=$.trim($(this).closest(".hack32-like-item").find(".hack32-title").text());-1!==metadata.fileNames.indexOf(t)&&(metadata.fileNames.splice(metadata.fileNames.indexOf(t),1),metadata.itemsNum=metadata.fileNames.length,$(".hack32-like-count").text(metadata.itemsNum),n.updateMetaData(metadata)),$(this).closest(".hack32-like-item").remove()}))};c()})().catch((t=>{console.error(t)}));
//# sourceMappingURL=index.9ea14205.js.map
